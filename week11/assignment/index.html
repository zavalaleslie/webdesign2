<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <header>
    <form>
      <label for="group">Colors:</label>
      <select id="group">
        <option value="red">Red</option>
        <option value="blue">Blue</option>
        <option value="yellow">Yellow</option>
      </select>
      <label for="category">Category:</label>
      <select id="category">
        <option></option>
      </select>
    </form>
  </header>
  <hr>

  <div id="carousel">
    <img id="carouselImg" src="red1.jpg" alt="carousel"/>
  </div>
  <script>
    var red = ["hues"];
    var blue = ["hues"];
    var yellow = ["hues"];

    var groupSelect = document.getElementById("group");
    var categorySelect = document.getElementById("category");


    
    groupSelect.addEventListener('change', function(){
      console.log(groupSelect.value);
      if(groupSelect.value == 'red'){
        fillCategory(red);
      }
      if(groupSelect.value == 'blue'){
        fillCategory(blue);
      }
      if(groupSelect.value == 'yellow'){
        fillCategory(yellow);
      }
    });

    var fillCategory = function(selection){
      categorySelect.innerHTML = "";
      selection.forEach(element => {
        var opt = document.createElement('option');
        opt.value = element;
        opt.textContent = element.charAt(0).toUpperCase() + element.slice(1);

        categorySelect.appendChild(opt);
      });
    }
  </script>
  <script>
  var redImgs = ["red1.jpg", "red2.jpg", "red3.jpg"];
	var blueImgs = ["b1.jpg", "b2.jpg", "b3.jpg"];
	var yellowImgs = ["y1.jpg", "y2.jpg", "y3.jpg"] 
		
    var currentImg = 0;
    var carouselImg = document.getElementById("carouselImg");
	var groupSelect = document.getElementById("group");
	var redGall = setInterval(redGallery, 1000);
	var blueGall = setInterval(blueGallery, 1000);
	var yellowGall = setInterval(yellowGallery, 1000);
	clearInterval(blueGall);
	clearInterval(yellowGall);
	
	groupSelect.addEventListener('change', function(){
		
		if(groupSelect.value == 'red'){
			clearInterval(blueGall);
			clearInterval(yellowGall);
			console.log("Red Entered")
			redGall = setInterval(redGallery, 1000);;
		}
		
		else if(groupSelect.value == 'blue'){
			clearInterval(yellowGall);
			clearInterval(redGall);
			console.log("Blue Entered")
			blueGall = setInterval(blueGallery, 1000);
		}
		else if (groupSelect.value == 'yellow'){
			clearInterval(blueGall);
			clearInterval(redGall);
			console.log("Yellow Entered")
			yellowGall = setInterval(yellowGallery, 1000);
		}
      
    });


    function redGallery(){
      var nextImg = currentImg + 1;
      if(nextImg == redImgs.length) nextImg = 0;
      carouselImg.src = redImgs[nextImg];
      currentImg = nextImg;
    }
	
	function blueGallery(){
      var nextImg = currentImg + 1;
      if(nextImg == blueImgs.length) nextImg = 0;
      carouselImg.src = blueImgs[nextImg];
      currentImg = nextImg;
    }
	
	function yellowGallery(){
      var nextImg = currentImg + 1;
      if(nextImg == yellowImgs.length) nextImg = 0;
      carouselImg.src = yellowImgs[nextImg];
      currentImg = nextImg;
    }
  </script>
</body>
</html>